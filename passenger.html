<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Passenger and Luggage Information</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="CSS/indexCSS/navbar.css">
    <link rel="stylesheet" href="CSS/passengerCSS/passenger.css">
</head>

<body style="background-color: #2c2f33">
    <!-- Navigation Bar -->
    <header id="navbar">
        <span id="app_title">The Normalizers</span>
        <nav>
            <a href="index.html">Aircraft Details</a>
            <a id="nav_flights" href="flights.html">Flights</a>
            <a id="nav_track" href="passenger.html">Passenger Info</a>
            <a id="nav_weather" href="weather.html">Weather</a>
            <a id="nav_airports" href="airport.html">Airports</a>
        </nav>
        <div class="settings">
            <span id="current-time"></span>
            <select id="language-select" style="margin-left: 15px;">
                <option value="en" selected>English</option>
                <option value="es">Español</option>
                <option value="fr">Français</option>
                <option value="de">Deutsch</option>
                <option value="zh">中文</option>
                <option value="ja">日本語</option>
                <option value="ru">Русский</option>
            </select>
        </div>
    </header>

    <!-- Fullscreen Table for Passenger and Luggage Information -->
    <div class="container-fluid mt-5">
        <h2 style=" text-align: center;">Passenger and Luggage Information Table</h2>
        <table class="table table-dark table-striped mt-3">
            <thead>
                <tr>
                    <th>Flight Code</th>
                    <th>Seating Number</th>
                    <th>First Name</th>
                    <th>Last Name</th>
                    <th>Group Number</th>
                    <th>Confirmation Number</th>
                    <th>Luggage ID</th>
                    <th>Carry On/Check In</th>
                </tr>
            </thead>
            <tbody id="passenger-table-body">
                <!-- Passenger rows will be dynamically added here -->
            </tbody>
        </table>
    </div>

    <!-- Button to Open Modal Form -->
    <button id="add-passenger-btn" class="btn btn-primary" data-toggle="modal" data-target="#addPassengerModal" style="font-size:13px;">
        Add Passenger
    </button>

    <!-- Add Passenger Modal -->
    <div class="modal fade" id="addPassengerModal" tabindex="-1" aria-labelledby="addPassengerModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addPassengerModalLabel">Add Passenger and Luggage</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="passenger-form">
                        <h6>Ticket Information</h6>
                        <div class="form-group">
                            <label for="flight_code">Flight Code:</label>
                            <input type="text" class="form-control" id="flight_code" required>
                        </div>
                        <div class="form-group">
                            <label for="seating_number">Seating Number:</label>
                            <input type="text" class="form-control" id="seating_number" required>
                        </div>
                        <div class="form-group">
                            <label for="first_name">First Name:</label>
                            <input type="text" class="form-control" id="first_name" required>
                        </div>
                        <div class="form-group">
                            <label for="last_name">Last Name:</label>
                            <input type="text" class="form-control" id="last_name" required>
                        </div>
                        <div class="form-group">
                            <label for="group_number">Group Number:</label>
                            <input type="text" class="form-control" id="group_number" maxlength="1" required>
                        </div>
                        <div class="form-group">
                            <label for="confirmation_number">Confirmation Number:</label>
                            <input type="text" class="form-control" id="confirmation_number" required>
                        </div>

                        <h6>Luggage Information</h6>
                        <div class="form-group">
                            <label for="luggage_id">Luggage ID:</label>
                            <input type="text" class="form-control" id="luggage_id" required>
                        </div>
                        <div class="form-group">
                            <label for="carry_on">Carry On/Check In:</label>
                            <select class="form-control" id="carry_on" required>
                                <option value="true">Carry On</option>
                                <option value="false">Check In</option>
                            </select>
                        </div>
                        <button type="button" class="btn btn-success btn-block" onclick="addPassenger()">Add Passenger</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="JS/indexJS/navbar.js"></script>
    <script src="JS/passengerJS/passenger.js"></script>
    <script>
        function addPassenger() {
            const flightCode = document.getElementById("flight_code").value;
            const seatingNumber = document.getElementById("seating_number").value;
            const firstName = document.getElementById("first_name").value;
            const lastName = document.getElementById("last_name").value;
            const groupNumber = document.getElementById("group_number").value;
            const confirmationNumber = document.getElementById("confirmation_number").value;
            const luggageID = document.getElementById("luggage_id").value;
            const carryOn = document.getElementById("carry_on").value === "true" ? "Carry On" : "Check In";

            if (flightCode && seatingNumber && firstName && lastName && groupNumber && confirmationNumber && luggageID) {
                const tableBody = document.getElementById("passenger-table-body");

                const newRow = tableBody.insertRow();
                newRow.insertCell(0).textContent = flightCode;
                newRow.insertCell(1).textContent = seatingNumber;
                newRow.insertCell(2).textContent = firstName;
                newRow.insertCell(3).textContent = lastName;
                newRow.insertCell(4).textContent = groupNumber;
                newRow.insertCell(5).textContent = confirmationNumber;
                newRow.insertCell(6).textContent = luggageID;
                newRow.insertCell(7).textContent = carryOn;

                $('#addPassengerModal').modal('hide');
                document.getElementById("passenger-form").reset();
            }
        }
    </script>
</body>

</html>
